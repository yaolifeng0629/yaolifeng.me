# React ä¸­çš„ä¸¤ç§è¡¨å•æ§åˆ¶æ–¹å¼ï¼šå—æ§ç»„ä»¶ vs éå—æ§ç»„ä»¶

åœ¨ React å¼€å‘ä¸­,æˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†è¡¨å•è¾“å…¥ç­‰ç”¨æˆ·äº¤äº’åœºæ™¯ã€‚

React æä¾›äº†ä¸¤ç§ä¸åŒçš„ç»„ä»¶æ¨¡å¼æ¥å¤„ç†è¿™äº›äº¤äº’:å—æ§ç»„ä»¶(Controlled Components)å’Œéå—æ§ç»„ä»¶(Uncontrolled Components)ã€‚

æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™ä¸¤ç§ç»„ä»¶çš„æ¦‚å¿µã€æ•°æ®æ›´æ–°å’Œå¤„ç†æ–¹å¼ã€ç‰¹ç‚¹ã€é€‚ç”¨åœºæ™¯ã€æµ‹è¯•åŠä¼˜ç¼ºç‚¹ç­‰ã€‚

## å—æ§ç»„ä»¶

### æ¦‚å¿µï¼š

å—æ§ç»„ä»¶æŒ‡è¡¨å•æ•°æ®ç”± React ç»„ä»¶æ¥ç®¡ç†çš„ç»„ä»¶ã€‚ç»„ä»¶çš„çŠ¶æ€æˆä¸ºäº†"å”¯ä¸€æ•°æ®æº"ã€‚æ¸²æŸ“è¡¨å•çš„ React ç»„ä»¶è¿˜æ§åˆ¶ç€ç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­è¡¨å•å‘ç”Ÿçš„æ“ä½œã€‚

### æ•°æ®å¤„ç†æ–¹å¼ï¼š

-   é€šè¿‡ React çš„ state æ¥å­˜å‚¨å’Œç®¡ç†æ•°æ®
-   é€šè¿‡ onChange äº‹ä»¶æ¥ç›‘å¬è¾“å…¥å˜åŒ–å¹¶æ›´æ–° state
-   é€šè¿‡ value å±æ€§å°† state ä¸­çš„å€¼ç»‘å®šåˆ°è¡¨å•å…ƒç´ 

### æ•°æ®æ›´æ–°æ–¹å¼ï¼š

-   é€šè¿‡ setState æ›´æ–°æ•°æ®
-   æ¯æ¬¡ state æ›´æ–°éƒ½ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“

### é€‚ç”¨åœºæ™¯ï¼š

-   éœ€è¦å³æ—¶éªŒè¯çš„è¡¨å•
-   éœ€è¦æ ¹æ®ç”¨æˆ·è¾“å…¥åŠ¨æ€çš„æ›´æ”¹å…¶ä»– UI å…ƒç´ çš„æƒ…å†µ
-   éœ€è¦æ§åˆ¶è¡¨å•æäº¤æ—¶çš„å€¼çš„æƒ…å†µ

### ä¼˜ç‚¹ï¼š

-   æ›´å¥½çš„æ•°æ®æ§åˆ¶å’ŒéªŒè¯
-   å³æ—¶åé¦ˆ
-   ä¾¿äºå®ç°å¤æ‚çš„è¡¨è¾¾é€»è¾‘

### ç¼ºç‚¹ï¼š

-   éœ€è¦ä¸ºæ¯ä¸ªè¡¨å•å…ƒç´ ç¼–å†™å¤„ç†å‡½æ•°,ä»£ç é‡è¾ƒå¤§
-   æ€§èƒ½å¼€é”€è¾ƒå¤§,æ¯æ¬¡è¾“å…¥éƒ½ä¼šè§¦å‘é‡æ–°æ¸²æŸ“

### æµ‹è¯•ï¼š

-   å› ä¸ºç»„ä»¶çŠ¶æ€ç”± React ç®¡ç†ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ props æ¨¡æ‹Ÿå’ŒéªŒè¯ä¸åŒçŠ¶æ€

### ç¤ºä¾‹ä»£ç 

```jsx
import React, { useState } from 'react';

function ControlledForm() {
    const [name, setName] = useState('');
    const [email, setEmail] = useState('');

    const handleNameChange = event => {
        setName(event.target.value);
    };

    const handleEmailChange = event => {
        setEmail(event.target.value);
    };

    const handleSubmit = event => {
        event.preventDefault();
        console.log('Submitted:', { name, email });
    };

    return (
        <form onSubmit={handleSubmit}>
            <div>
                <label htmlFor="name">Name:</label>
                <input type="text" id="name" value={name} onChange={handleNameChange} />
            </div>
            <div>
                <label htmlFor="email">Email:</label>
                <input type="email" id="email" value={email} onChange={handleEmailChange} />
            </div>
            <button type="submit">Submit</button>
        </form>
    );
}
```

## éå—æ§ç»„ä»¶

### æ¦‚å¿µ

éå—æ§ç»„ä»¶æ˜¯æŒ‡è¡¨å•æ•°æ®ç”± DOM èŠ‚ç‚¹æ¥å¤„ç†çš„ç»„ä»¶ã€‚React ä¸ä¼šä¸»åŠ¨ç®¡ç†ç»„ä»¶çš„çŠ¶æ€,è€Œæ˜¯è®©è¡¨å•æ•°æ®å­˜å‚¨åœ¨ DOM èŠ‚ç‚¹ä¸­ã€‚

### æ•°æ®å¤„ç†æ–¹å¼ï¼š

-   ç»„ä»¶çš„çŠ¶æ€ç”± DOM è‡ªèº«ç®¡ç†
-   è¡¨å•æ•°æ®å­˜å‚¨åœ¨ DOM ä¸­
-   é€šè¿‡ ref æ¥è·å– DOM èŠ‚ç‚¹çš„å€¼
-   ä¸éœ€è¦ä¸ºæ¯ä¸ªçŠ¶æ€æ›´æ–°éƒ½ç¼–å†™äº‹ä»¶å¤„ç†å‡½æ•°

### æ•°æ®æ›´æ–°æ–¹å¼ï¼š

-   ä½¿ç”¨ ref ç›´æ¥ä» DOM ä¸­è·å–æ•°æ®
-   æ•°æ®å­˜å‚¨åœ¨ DOM ä¸­, ä¸ä¼šè‡ªåŠ¨è§¦å‘é‡æ–°æ¸²æŸ“

### é€‚ç”¨åœºæ™¯ï¼š

-   ç®€å•çš„è¡¨å•ï¼Œä¸éœ€è¦å³æ—¶éªŒè¯
-   é›†æˆé React ä»£ç æ—¶ï¼ˆå¦‚ç¬¬ä¸‰æ–¹åº“ï¼‰
-   æ€§èƒ½ä¼˜åŒ–ï¼Œå…¼å®¹ä¸å¿…è¦çš„æ¸²æŸ“

### ä¼˜ç‚¹ï¼š

-   ä»£ç é‡å°‘,å®ç°ç®€å•
-   æ€§èƒ½è¾ƒå¥½,ä¸ä¼šé¢‘ç¹è§¦å‘é‡æ–°æ¸²æŸ“ï¼ŒæŸäº›æƒ…å†µä¸‹æ€§èƒ½æ›´å¥½
-   æ›´å®¹æ˜“é›†æˆé React ä»£ç 

### ç¼ºç‚¹ï¼š

-   è¾ƒéš¾å®ç°å¤æ‚çš„è¡¨å•é€»è¾‘
-   ä¸èƒ½å³æ—¶å“åº”ç”¨æˆ·è¾“å…¥
-   è¾ƒéš¾è¿›è¡Œè¡¨å•éªŒè¯

### æµ‹è¯•ï¼š

-   å› ä¸ºçŠ¶æ€ç”± DOM ç®¡ç†ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬æ¨¡æ‹Ÿäº‹ä»¶è§¦å‘çŠ¶æ€å˜åŒ–æ¥æµ‹è¯•, æ¯”å¦‚å¼•å…¥ `js-dom` ç­‰ç¬¬ä¸‰åº“æ”¯æŒ

### ç¤ºä¾‹ä»£ç 

```jsx
import React, { useRef } from 'react';

function UncontrolledForm() {
    const nameInput = useRef(null);
    const emailInput = useRef(null);

    const handleSubmit = event => {
        event.preventDefault();
        const name = nameInput.current.value;
        const email = emailInput.current.value;
        console.log('Submitted:', { name, email });
    };

    return (
        <form onSubmit={handleSubmit}>
            <div>
                <label htmlFor="name">Name:</label>
                <input type="text" id="name" ref={nameInput} />
            </div>
            <div>
                <label htmlFor="email">Email:</label>
                <input type="email" id="email" ref={emailInput} />
            </div>
            <button type="submit">Submit</button>
        </form>
    );
}
```

## æ€»ç»“

å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶å„æœ‰ä¼˜ç¼ºç‚¹,é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹å¼å–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚ã€‚

å—æ§ç»„ä»¶æä¾›äº†æ›´å¼ºçš„æ•°æ®æ§åˆ¶èƒ½åŠ›å’Œå³æ—¶åé¦ˆ,é€‚åˆå¤æ‚çš„è¡¨å•åœºæ™¯;

éå—æ§ç»„ä»¶å®ç°ç®€å•,æ€§èƒ½è¾ƒå¥½,é€‚åˆç®€å•çš„è¡¨å•å’Œç‰¹æ®Šåœºæ™¯

æ— è®ºé€‰æ‹©å“ªç§æ–¹å¼ï¼Œéƒ½è¦æ³¨æ„ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ï¼Œç¡®ä¿ç”¨æˆ·è¾“å…¥çš„æ•°æ®èƒ½å¤Ÿè¢«æ­£ç¡®åœ°æ”¶é›†ã€éªŒè¯å’Œæäº¤ã€‚åŒæ—¶ï¼Œä¹Ÿè¦å…³æ³¨è¡¨å•çš„å¯è®¿é—®æ€§å’Œç”¨æˆ·ä½“éªŒï¼Œä¸ºç”¨æˆ·æä¾›å‹å¥½ã€ä¾¿æ·çš„è¡¨å•äº¤äº’æ–¹å¼ã€‚

## ç»“è¯­

ä¸Šæ¬¡æˆ‘å¼€å‘äº†ä¸€ä¸ªå·¥å…·ï¼Œè§£å†³äº†æ‰‹åŠ¨æŒ¨ä¸ªåˆ é™¤æ¸…ç†æ— ç”¨çš„ä»“åº“é—®é¢˜ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå¯ä»¥å»çœ‹çœ‹å“¦ï¼ğŸ˜Š

å¦‚æœä½ è§‰å¾—è¿™ä¸ªå·¥å…·å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œè¯·ä¸è¦å¿˜è®°ç»™æˆ‘çš„ GitHub ä»“åº“ **ç‚¹ä¸ª Star** â­ï¼ä½ çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›ï¼

[ä»‹ç»æ–‡ç« ](https://mp.weixin.qq.com/s/t7lgc6b7xJiNhfm5vWo5-A)ï¼š https://mp.weixin.qq.com/s/t7lgc6b7xJiNhfm5vWo5-A

[GitHub ä»“åº“åœ°å€](https://github.com/yaolifeng0629/del-repos)ï¼š https://github.com/yaolife ng0629/del-repos

æ„Ÿè°¢é˜…è¯»ï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§ï¼
